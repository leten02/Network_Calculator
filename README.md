## 클라우드 계산기

### 프로젝트 개요

이 프로젝트는 Java를 사용하여 네트워크 애플리케이션을 개발하는 초기 단계를 밟습니다. Java 소켓 API를 활용하여 클라우드 계산기 프로그램을 구축합니다. 이 프로그램은 클라이언트와 서버를 구현하며, 클라이언트는 수학식을 서버에 전송하고, 서버는 이러한 식을 해석하고 연산한 다음 결과를 클라이언트에 반환합니다.

### 통신 프로토콜

효율적인 통신을 위해 ASCII 기반의 메시지 형식을 정의해야 합니다. 명령과 응답을 명확하게 정의하여 프로토콜을 준수해야 합니다. 이 프로토콜은 HTTP 요청 및 응답 형식과 유사하게 작동하며, 이러한 형식을 참고하여 메시지 형식을 정의할 수 있습니다.

- [HTTP 요청 메서드](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods)
- [HTTP 응답 상태 코드](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status)

### 요구 사항

계산기 프로그램은 다음 요구 사항을 충족해야 합니다:

1. **사칙 연산**: 프로그램은 덧셈, 뺄셈, 곱셈 및 나눗셈과 같은 네 가지 기본 사칙 연산을 지원해야 합니다.

2. **응답 처리**: 서버의 응답은 수식에 대한 결과 또는 오류 메시지(오류 유형 포함)가 될 수 있습니다. 응답 형식은 응답 유형을 나타내는 코드와 해당 값을 포함한 필드를 가져야 합니다. 예를 들어 "Answer: 30" 또는 "0으로 나눔"과 같은 오류 메시지가 될 수 있습니다.

3. **다중 클라이언트 지원**: 서버는 동시에 여러 클라이언트를 처리할 수 있어야 합니다. 이를 위해 클라이언트 처리 스레드를 구현하기 위해 ThreadPool을 사용할 수 있습니다.

4. **서버 정보 설정**: 클라이언트 프로그램은 서버의 IP 주소 및 포트 번호를 구성 텍스트 파일(예: "server_info.dat")에서 읽어와야 합니다. 이 파일이 존재하지 않는 경우 기본값(예: localhost 및 포트 1234)을 사용해야 합니다. 이러한 구성을 처리하기 위해 별도의 클래스를 생성할 수 있습니다.

### 메시지 형식

클라이언트와 서버 간의 통신은 사전 정의된 메시지 형식을 따라야 합니다. 명령과 응답 형식을 명확하게 정의하기 위해 다음 예제를 참고해야 합니다:

1. **클라이언트 명령**: `ADD 10 20`
   - 이것은 덧셈 수행 요청을 나타냅니다.
   - 서버의 응답은 "Answer: 30"과 같을 수 있습니다.

2. **클라이언트 명령**: `DIV 25 0`
   - 이것은 나눗셈 수행 요청을 나타냅니다.
   - 서버의 응답은 "0으로 나눔"과 같은 오류 메시지를 포함해야 합니다.

3. **클라이언트 명령**: `MIN 5 2 1`
   - 이 명령에는 너무 많은 인수가 포함되어 있습니다.
   - 서버의 응답은 의미론적으로 의미 있는 오류 메시지를 제공해야 합니다. 예: "너무 많은 인수"와 같은 오류 메시지

## 코드 설명

### 클라이언트 (CalcClient.java)
1. **클라이언트 설정 읽기**: `ServerInfoConfig` 클래스를 사용하여 서버의 IP 주소 및 포트 번호를 설정 파일 (`server_info.txt`)에서 읽어옵니다.
2. **서버에 연결**: 서버의 IP 주소와 포트 번호를 사용하여 서버에 소켓 연결을 설정합니다.
3. **계산식 입력**: 사용자에게 수식을 입력하도록 프롬프트를 표시하고, 입력한 수식을 서버로 전송합니다.
4. **통신 및 결과 출력**: 서버로부터 계산 결과를 받아와 화면에 출력합니다. "bye"를 입력하면 클라이언트가 서버와의 연결을 종료하고 프로그램이 종료됩니다.

### 설정 파일 (server_info.txt)
    - 이 파일은 서버의 IP 주소 및 포트 번호를 저장하는 설정 파일입니다.
    - ServerInfoConfig 클래스가 loadConfigFromFile 메서드를 사용하여 이 파일에서 정보를 읽어오며, 설정 파일이 없는 경우 기본값을 사용합니다.

### 서버 정보 설정 클래스 (ServerInfoConfig.java)
    - `ServerInfoConfig` 클래스는 서버의 IP 주소 및 포트 번호를 읽고 설정하기 위한 클래스입니다.
    - `loadConfigFromFile` 메서드를 사용하여 설정 파일에서 정보를 읽어오며, 설정 파일이 없는 경우 기본값을 사용합니다.

### 서버 (CalcServer.java)
1. **계산 함수**: `calc` 함수는 클라이언트에서 수신한 수식을 해석하고 결과를 계산하는 역할을 합니다.
2. **서버 설정 및 클라이언트 연결 대기**: 서버는 `ServerSocket`을 사용하여 클라이언트의 연결 요청을 수신하고, 이에 대한 처리를 시작합니다.
3. **클라이언트 처리 스레드**: 새로운 클라이언트가 연결될 때마다 `ClientHandler` 스레드를 생성하여 클라이언트의 요청을 처리합니다. 이렇게 함으로써 서버는 동시에 여러 클라이언트를 처리할 수 있습니다.
4. **클라이언트 요청 처리**: 클라이언트의 요청을 `calc` 함수를 사용하여 처리하고, 계산 결과를 클라이언트에 반환합니다.
5. **연결 종료**: 클라이언트가 "bye"를 보내거나 연결이 끊어질 때까지 통신합니다. 클라이언트가 연결을 종료하면 스레드가 종료됩니다.

